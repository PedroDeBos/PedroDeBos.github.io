<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Parametized Data Germany | Portfolio Pedro de Bos" />
<meta property="og:type" content="book" />







<meta name="description" content="Parametized Data Germany | Portfolio Pedro de Bos">

<title>Parametized Data Germany | Portfolio Pedro de Bos</title>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.22/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if boostrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<!--bookdown:toc:end-->
<!--bookdown:toc:start-->
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="parametized-data-germany" class="section level1">
<h1>Parametized Data Germany</h1>
<body id="start">
<div class="topnav">
<p><a href='index.html#Frontpage'>Frontpage</a>
<a href='data-visualisation.html#data-visualisation'>Data visualisation</a>
<a href='parametized-data-germany.html#parametized-data'>Parametizing data</a>
<a href='directory-structure.html#directory-structure'>Directory structure</a>
<a href='creating-a-r-package.html#creating-a-r-package'>R-package</a>
<a href='sql.html#SQL'>SQL</a>
<a href='bibliography-using-zotero.html#Bibliography using Zotero'>Zotero</a>
<a href='open-reproductibility-analysis.html#open-reproductibility-analysis'>Reproductibility</a>
<a href='future-endeavours.html#future-endeavours'>Future endeavours</a>
<a href='cv.html#cv'>CV</a>
<a href='bibliography.html#bibliography'>Bibliography</a></p>
</div>
<p> </p>
<p>To prove my skills in the producing parametized .Rmd’s, I’ve used an online COVID-19 dataset and parametized the visualisation of this data file. For this parameterization, the country of the data, the year of the data and the months which the data covers have been added as variables.</p>
<p>For this page, the params have been set too:</p>
<ul>
<li><p>Country: Belgium (Only shows data from the Belgium)</p></li>
<li><p>Year: 2020 (Only shows data from 2020)</p></li>
<li><p>Month: 6 (Shows data from 6 months of the year)</p></li>
<li><p>Month_end: TRUE (Starts counting months from the start of the year (januari), if TRUE starts counting months from the end (december))</p></li>
</ul>
<p>In order to showcase this, this process has been repeated for 3 sets of parameters</p>
<div>
<p><a href='parametized-data-belgium.html#parametized-data-belgium'>click here for a page of data about Belgium<a/></p>
<p><a href='parametized-data-norway.html#parametized-data-norway'>click here for a page about data in Norway<a/></p>
</div>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="parametized-data-germany.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameters have been manually set for the purpose of this site, as bookdown does not support stating parameters in YAML</span></span>
<span id="cb18-2"><a href="parametized-data-germany.html#cb18-2" aria-hidden="true" tabindex="-1"></a>params<span class="sc">$</span>country<span class="ot">&lt;-</span><span class="st">&quot;Germany&quot;</span></span>
<span id="cb18-3"><a href="parametized-data-germany.html#cb18-3" aria-hidden="true" tabindex="-1"></a>params<span class="sc">$</span>year<span class="ot">&lt;-</span><span class="dv">2020</span></span>
<span id="cb18-4"><a href="parametized-data-germany.html#cb18-4" aria-hidden="true" tabindex="-1"></a>params<span class="sc">$</span>month<span class="ot">&lt;-</span><span class="dv">12</span></span>
<span id="cb18-5"><a href="parametized-data-germany.html#cb18-5" aria-hidden="true" tabindex="-1"></a>params<span class="sc">$</span>month_end<span class="ot">&lt;-</span><span class="cn">FALSE</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="parametized-data-germany.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="do">############################################################### Reading data</span></span>
<span id="cb19-2"><a href="parametized-data-germany.html#cb19-2" aria-hidden="true" tabindex="-1"></a>covid_data<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">&quot;./data.raw/data.csv&quot;</span>)</span>
<span id="cb19-3"><a href="parametized-data-germany.html#cb19-3" aria-hidden="true" tabindex="-1"></a>covid_data_vis<span class="ot">&lt;-</span>covid_data</span>
<span id="cb19-4"><a href="parametized-data-germany.html#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="parametized-data-germany.html#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="do">############################################################### Mangling data</span></span>
<span id="cb19-6"><a href="parametized-data-germany.html#cb19-6" aria-hidden="true" tabindex="-1"></a>covid_years<span class="ot">&lt;-</span>covid_data<span class="sc">$</span>year <span class="sc">%&gt;%</span> <span class="fu">unique</span>()</span>
<span id="cb19-7"><a href="parametized-data-germany.html#cb19-7" aria-hidden="true" tabindex="-1"></a>covid_data_vis<span class="sc">$</span>year<span class="ot">&lt;-</span><span class="fu">factor</span>(<span class="fu">as.character</span>(covid_data<span class="sc">$</span>year), <span class="at">levels =</span> <span class="fu">as.character</span>(covid_years)) <span class="co">#Making year a factor so it colours nicely instead of using a gradiant</span></span>
<span id="cb19-8"><a href="parametized-data-germany.html#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="parametized-data-germany.html#cb19-9" aria-hidden="true" tabindex="-1"></a>months<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;January&quot;</span>, <span class="st">&quot;Februari&quot;</span>, <span class="st">&quot;March&quot;</span>, <span class="st">&quot;April&quot;</span>, <span class="st">&quot;May&quot;</span>, <span class="st">&quot;June&quot;</span>, <span class="st">&quot;July&quot;</span>, <span class="st">&quot;August&quot;</span>, <span class="st">&quot;September&quot;</span>, <span class="st">&quot;October&quot;</span>, <span class="st">&quot;November&quot;</span>, <span class="st">&quot;December&quot;</span>) <span class="co">#Storing months to plaster on x-axis</span></span>
<span id="cb19-10"><a href="parametized-data-germany.html#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="parametized-data-germany.html#cb19-11" aria-hidden="true" tabindex="-1"></a>covid_data_filter1<span class="ot">&lt;-</span>covid_data_vis <span class="sc">%&gt;%</span> <span class="fu">filter</span>(countriesAndTerritories<span class="sc">==</span>params<span class="sc">$</span>country, <span class="co">#Filtering for countries and year</span></span>
<span id="cb19-12"><a href="parametized-data-germany.html#cb19-12" aria-hidden="true" tabindex="-1"></a>                                              year<span class="sc">==</span>params<span class="sc">$</span>year)</span>
<span id="cb19-13"><a href="parametized-data-germany.html#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="parametized-data-germany.html#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (params<span class="sc">$</span>month_end) {</span>
<span id="cb19-15"><a href="parametized-data-germany.html#cb19-15" aria-hidden="true" tabindex="-1"></a>  covid_data_vis_filter2<span class="ot">&lt;-</span>covid_data_filter1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(month<span class="sc">&gt;=</span>params<span class="sc">$</span>month)           <span class="co">#Filter for month based on if month_end is TRUE or FALSE</span></span>
<span id="cb19-16"><a href="parametized-data-germany.html#cb19-16" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb19-17"><a href="parametized-data-germany.html#cb19-17" aria-hidden="true" tabindex="-1"></a>  covid_data_vis_filter2<span class="ot">&lt;-</span>covid_data_filter1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(month<span class="sc">&lt;=</span>params<span class="sc">$</span>month)</span>
<span id="cb19-18"><a href="parametized-data-germany.html#cb19-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-19"><a href="parametized-data-germany.html#cb19-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-20"><a href="parametized-data-germany.html#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="do">############################################################### Creating visualisation: Cases per month</span></span>
<span id="cb19-21"><a href="parametized-data-germany.html#cb19-21" aria-hidden="true" tabindex="-1"></a>covid_data_vis_filter2 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(month, year) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb19-22"><a href="parametized-data-germany.html#cb19-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">cases=</span><span class="fu">mean</span>(cases, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb19-23"><a href="parametized-data-germany.html#cb19-23" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>month, <span class="at">y=</span>cases))<span class="sc">+</span></span>
<span id="cb19-24"><a href="parametized-data-germany.html#cb19-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color=</span>year))<span class="sc">+</span></span>
<span id="cb19-25"><a href="parametized-data-germany.html#cb19-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group=</span>year, <span class="at">color=</span>year))<span class="sc">+</span></span>
<span id="cb19-26"><a href="parametized-data-germany.html#cb19-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb19-27"><a href="parametized-data-germany.html#cb19-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">45</span>, <span class="at">hjust=</span><span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb19-28"><a href="parametized-data-germany.html#cb19-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb19-29"><a href="parametized-data-germany.html#cb19-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">title=</span><span class="fu">paste0</span>(<span class="st">&quot;SARS-COV 2 cases in &quot;</span>,params<span class="sc">$</span>country, <span class="st">&quot; per month in &quot;</span>, params<span class="sc">$</span>year),</span>
<span id="cb19-30"><a href="parametized-data-germany.html#cb19-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Data from ECDC&quot;</span>,</span>
<span id="cb19-31"><a href="parametized-data-germany.html#cb19-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">x=</span><span class="st">&quot;Month&quot;</span>,</span>
<span id="cb19-32"><a href="parametized-data-germany.html#cb19-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">y=</span><span class="st">&quot;COVID-19 cases&quot;</span>,</span>
<span id="cb19-33"><a href="parametized-data-germany.html#cb19-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">color=</span><span class="st">&quot;Year&quot;</span></span>
<span id="cb19-34"><a href="parametized-data-germany.html#cb19-34" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb19-35"><a href="parametized-data-germany.html#cb19-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span>(<span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>)), <span class="at">labels =</span> months)</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="parametized-data-germany.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="do">############################################################# Creating visualisation: Deaths per month</span></span>
<span id="cb21-2"><a href="parametized-data-germany.html#cb21-2" aria-hidden="true" tabindex="-1"></a>covid_data_vis_filter2 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(month, year) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb21-3"><a href="parametized-data-germany.html#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">deaths=</span><span class="fu">mean</span>(deaths, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb21-4"><a href="parametized-data-germany.html#cb21-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>month, <span class="at">y=</span>deaths))<span class="sc">+</span></span>
<span id="cb21-5"><a href="parametized-data-germany.html#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color=</span>year))<span class="sc">+</span></span>
<span id="cb21-6"><a href="parametized-data-germany.html#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group=</span>year, <span class="at">color=</span>year))<span class="sc">+</span></span>
<span id="cb21-7"><a href="parametized-data-germany.html#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb21-8"><a href="parametized-data-germany.html#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">45</span>, <span class="at">hjust=</span><span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb21-9"><a href="parametized-data-germany.html#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb21-10"><a href="parametized-data-germany.html#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title=</span><span class="fu">paste0</span>(<span class="st">&quot;SARS-COV 2 deaths in &quot;</span>,params<span class="sc">$</span>country, <span class="st">&quot; per month in &quot;</span>, params<span class="sc">$</span>year),</span>
<span id="cb21-11"><a href="parametized-data-germany.html#cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Data from ECDC&quot;</span>,</span>
<span id="cb21-12"><a href="parametized-data-germany.html#cb21-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">x=</span><span class="st">&quot;Month&quot;</span>,</span>
<span id="cb21-13"><a href="parametized-data-germany.html#cb21-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">y=</span><span class="st">&quot;COVID-19 deaths&quot;</span>,</span>
<span id="cb21-14"><a href="parametized-data-germany.html#cb21-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">color=</span><span class="st">&quot;Year&quot;</span></span>
<span id="cb21-15"><a href="parametized-data-germany.html#cb21-15" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb21-16"><a href="parametized-data-germany.html#cb21-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span>(<span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>)), <span class="at">labels =</span> months)</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-9-2.png" width="672" /></p>

</div>
<p style="text-align: center;">
<a href="parametized-data-belgium.html"><button class="btn btn-default">Previous</button></a>
<a href="directory-structure.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
